(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a26cd8b"],{"9b71":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-container",{staticClass:"grey lighten-5"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"12",xl:"12"}},[a("h3",[t._v("Planilla Restaurante Fogoncito")])]),a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"12",xl:"12"}},[a("div",[a("v-data-table",{staticClass:"elevation-1 overflow-div",attrs:{headers:t.headers,items:t.planilla,"sort-by":"cedula",page:t.page,"items-per-page":10,"hide-default-footer":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Empleados")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"720px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[t._v("Nuevo Empleado")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cédula"},model:{value:t.editedItem.cedula,callback:function(e){t.$set(t.editedItem,"cedula",e)},expression:"editedItem.cedula"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellidos"},model:{value:t.editedItem.apellidos,callback:function(e){t.$set(t.editedItem,"apellidos",e)},expression:"editedItem.apellidos"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.editedItem.fecha_inicio,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){return t.$set(t.editedItem,"fecha_inicio",e)},"update:return-value":function(e){return t.$set(t.editedItem,"fecha_inicio",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha de Ingreso",readonly:""},model:{value:t.editedItem.fecha_inicio,callback:function(e){t.$set(t.editedItem,"fecha_inicio",e)},expression:"editedItem.fecha_inicio"}},"v-text-field",n,!1),i))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.editedItem.fecha_inicio,callback:function(e){t.$set(t.editedItem,"fecha_inicio",e)},expression:"editedItem.fecha_inicio"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.editedItem.fecha_inicio)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tipo de Colaborador"},model:{value:t.editedItem.tipo_colaborador,callback:function(e){t.$set(t.editedItem,"tipo_colaborador",e)},expression:"editedItem.tipo_colaborador"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Puesto"},model:{value:t.editedItem.puesto,callback:function(e){t.$set(t.editedItem,"puesto",e)},expression:"editedItem.puesto"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Guardar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.goEmployeePage(i)}}},[t._v("fas fa-arrow-circle-right")])]}}],null,!0)}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)])],1)],1),a("v-snackbar",{attrs:{timeout:t.duration},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.error)+" ")])],1)},n=[],o=(a("13d5"),a("5530")),s=a("2f62"),l=a("2adc"),c=a("a18c"),r={name:"Planilla",data:function(){return{menu:!1,dialog:!1,page:1,pageCount:0,editedIndex:-1,editedItem:{id:0,cedula:null,nombre:null,apellidos:null,fecha_inicio:null,tipo_colaborador:null,puesto:null,ultima_liquidacion:null},defaultItem:{id:0,cedula:null,nombre:null,apellidos:null,fecha_inicio:null,tipo_colaborador:null,puesto:null,ultima_liquidacion:null},snackbar:!1,duration:4e3,headers:[{text:"Cédula",align:"start",value:"cedula"},{text:"Nombre",value:"nombre",sortable:!1},{text:"Apellidos",value:"apellidos",sortable:!1},{text:"Fecha de Ingreso",value:"fecha_inicio",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}]}},created:function(){this.getPlanilla()},watch:{dialog:function(t){t||this.close()}},computed:Object(o["a"])(Object(o["a"])({},Object(s["d"])(["planilla","error","registros"])),{},{formTitle:function(){return-1===this.editedIndex?"Nuevo Item":"Editar Item"},calculateAguinaldo:function(){var t=_.reduce(this.registros,(function(t,e){return t+e.horas*e.salario_hora+e.vales-e.alimentacion-e.seguro}),0);return this.convertMoney(t/12)}}),methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["getPlanilla","agregarEmpleado","eliminarEmpleado"])),{},{convertMoney:function(t){var e=new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:2}),a=e.format(t);return a},goEmployeePage:function(t){c["a"].push({name:"Empleado",params:{id:t.id}})},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedItem.fecha_inicio=l["a"].fromDate(new Date(this.editedItem.fecha_inicio)),this.editedItem.ultima_liquidacion=this.editedItem.fecha_inicio,this.editedIndex>-1?console.log("Editar"):(this.agregarEmpleado(this.editedItem),console.log("Liquidación:"+this.editedIndex.ultima_liquidacion)),this.close()}})},d=r,u=a("2877"),m=a("6544"),v=a.n(m),h=a("8336"),p=a("b0af"),f=a("99d9"),b=a("62ad"),g=a("a523"),k=a("8fea"),x=a("2e4b"),I=a("169a"),C=a("ce7e"),y=a("132d"),w=a("a722"),T=a("e449"),V=a("891e"),O=a("0fd9"),j=(a("caad"),a("a9e3"),a("ade3")),$=(a("ca71"),a("8dd9")),E=a("a9ad"),A=a("7560"),B=a("f2e7"),P=a("fe6c"),D=a("58df"),S=a("80d2"),F=a("d9bd"),N=Object(D["a"])($["a"],E["a"],B["a"],Object(P["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"===typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:A["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var t=this.$vuetify.application,e=t.bar,a=t.bottom,i=t.footer,n=t.insetFooter,o=t.left,s=t.right,l=t.top;return{paddingBottom:Object(S["g"])(a+i+n),paddingLeft:this.app?Object(S["g"])(o):void 0,paddingRight:this.app?Object(S["g"])(s):void 0,paddingTop:Object(S["g"])(e+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(F["e"])("auto-height",this),0==this.timeout&&Object(F["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(S["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(j["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(S["s"])(this)])},genWrapper:function(){var t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:$["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}}),q=a("2fa4"),L=a("8654"),R=a("71d9"),M=a("2a7f"),W=Object(u["a"])(d,i,n,!1,null,null,null);e["default"]=W.exports;v()(W,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:b["a"],VContainer:g["a"],VDataTable:k["a"],VDatePicker:x["a"],VDialog:I["a"],VDivider:C["a"],VIcon:y["a"],VLayout:w["a"],VMenu:T["a"],VPagination:V["a"],VRow:O["a"],VSnackbar:N,VSpacer:q["a"],VTextField:L["a"],VToolbar:R["a"],VToolbarTitle:M["a"]})},ca71:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4a26cd8b.55338c70.js.map